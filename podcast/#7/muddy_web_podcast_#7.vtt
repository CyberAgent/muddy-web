WEBVTT

00:00.000 --> 00:11.000
マディウェブポッドキャストは、マディの意味が泥であるように ウェブフロントエンドの開発現場における泥臭い話などから学びを得ることを目的とし、

00:11.000 --> 00:19.000
実際に明日から使えるかもしれないウェブフロントエンド知識や美術を参加者の皆様と共有し合うことを通して、

00:19.000 --> 00:24.000
フロントエンド海外の役に立てるように思いを込めて発信しています。

00:25.000 --> 00:28.000
それではマディウェブポッドキャストを始めていきたいと思います。

00:28.000 --> 00:33.000
走りデータは私、株式会社シロックより石井がお送りいたします。

00:33.000 --> 00:41.000
本日ゲストにお越しいただいています、サイバーファイトDX事業本部より久保陽一郎さんです。

00:41.000 --> 00:47.000
はい、どうもこんにちは。ご紹介にあずかりました久保陽一郎と申します。よろしくお願いいたします。

00:47.000 --> 00:50.000
よろしくお願いいたします。すみません、本日来ていただいてありがとうございます。

00:50.000 --> 00:52.000
こちらこそありがとうございます。

00:52.000 --> 00:57.000
軽く最初に自己紹介の方、どこの事業部だとか紹介してもらっていいですか。

00:57.000 --> 01:03.000
はい、かしこまりました。私、株式会社サイバーファイトのDX事業本部というところに所属しております。

01:03.000 --> 01:11.000
久保陽一郎と申します。2016年にサイバーエージェントに入社しまして、今もう7年目になります。

01:11.000 --> 01:16.000
サイバーファイトDX事業本部でウェストユニバースというサービスがあるんですけれども、

01:16.000 --> 01:20.000
そちらのウェブのリーダーをやらせていただいております。本日はよろしくお願いいたします。

01:20.000 --> 01:25.000
はい、よろしくお願いいたします。先ほどサービスの名前も出てきたんですけども、

01:25.000 --> 01:34.000
今日お話ししていただく内容がウェストユニバースのウェブの海外対応について話していきたいと思うんですけども、

01:34.000 --> 01:38.000
まず多分聞いている人はどんなサービスかというのは分からないので、

01:38.000 --> 01:41.000
簡単に説明をいただきたいと思います。

01:41.000 --> 01:46.000
ウェストユニバースというサービス、名前から分かっちゃうところもあると思うんですけれども、

01:46.000 --> 01:49.000
プロレスの動画サービスになります。

01:49.000 --> 01:54.000
サイバーファイトという会社にはトータルで4つのプロレス団体がありまして、

01:54.000 --> 02:00.000
そこの団体の興行ですね。試合の映像だったりだとか、ちょっとした企画の映像だったりだとか、

02:00.000 --> 02:03.000
そういった動画を配信しているサービスになります。

02:03.000 --> 02:08.000
こちらはウェブとアプリで展開しているサービスになります。

02:08.000 --> 02:09.000
はい、ありがとうございます。

02:09.000 --> 02:12.000
内野さんはウェブの方をやられているんですよね。

02:12.000 --> 02:13.000
はい、そうです。

02:13.000 --> 02:16.000
今回、海外展開ですか?

02:16.000 --> 02:17.000
そうですね、はい。

02:17.000 --> 02:21.000
なるほど、海外展開っていうのは簡単に言うとどんな感じなんですかね?

02:21.000 --> 02:24.000
プロレスってご存知の方もいらっしゃると思うんですけれども、

02:24.000 --> 02:29.000
日本国内だけじゃなくて海外でもすごい盛り上がりがあるコンテンツで、

02:29.000 --> 02:34.000
そのマーケットの大きさは実は日本国内では引きじゃないぐらい大きいんですけれども、

02:34.000 --> 02:35.000
そうなんですね。

02:35.000 --> 02:41.000
レスルユニバースも結構海外からのお客様が多いっていうのが事前にわかっていたので、

02:41.000 --> 02:45.000
あらかじめその海外のお客様にも快適にご利用いただけるように、

02:45.000 --> 02:50.000
ちょっといろいろ考えてやっていきましょうっていう話を今日お話しできればなと思っております。

02:50.000 --> 02:51.000
へー、初めて知りました。

02:51.000 --> 02:56.000
結構日本のコンテンツ、アニメコンテンツとかもめっちゃ海外では人気ですけど、

02:56.000 --> 02:58.000
プロレスも結構人気なんですね。

02:58.000 --> 02:59.000
すごい人気ですね。

02:59.000 --> 03:01.000
へー、初めて知りました。

03:01.000 --> 03:06.000
あんまり今の若い人たちはどうなんですかね、プロレスとか見てるんですかね?

03:06.000 --> 03:12.000
そうですね、ちょっと一昔前に比べたらちょっとマイナー感が出てしまったかもしれないんですけれども、

03:12.000 --> 03:15.000
工業行くと結構老若男女と言いますか、

03:15.000 --> 03:21.000
本当に子供さんから若い女の人から、それこそ人気の入った熱いファンまでいっぱいいるなっていうところで、

03:21.000 --> 03:23.000
まだまだ人気のコンテンツっていうところですかね。

03:23.000 --> 03:27.000
へー、確かにでも結構最近名前よく聞きますよね。

03:27.000 --> 03:33.000
最近すごい有名なプロレスの方も引退されて、すごく大きなニュースがありましたけど、

03:33.000 --> 03:34.000
なるほど。

03:34.000 --> 03:38.000
それの海外展開を今回担当されたのですか?

03:38.000 --> 03:43.000
そうですね、プロダクトの設計としてもともと織り込んでいるっていうところで、

03:43.000 --> 03:48.000
リニューアルになるんですけれども、そのリニューアルリリースから大体1年半くらいだったんですかね。

03:48.000 --> 03:52.000
ちょっとそこまででやってきたことなんかをご紹介できればなと思っております。

03:52.000 --> 03:54.000
へー、なるほど。楽しいですね。

04:00.000 --> 04:09.000
サーバレスをやっていくにあたって、一番ボトルネックになった部分だとか難しかったところとかってありますか?

04:10.000 --> 04:13.000
ネクストJSを使っているんですけれども、

04:13.000 --> 04:20.000
ネクストJSとAWSの相性が今のところあんまり良くないなっていうところでちょっと悩んだなっていうのはありますね。

04:20.000 --> 04:22.000
どんなところが合わないって感じですか?

04:22.000 --> 04:27.000
そうですね。ネクストJSってバーセルの開発したものなので、

04:27.000 --> 04:32.000
バーセルだったりとかそういうところにデプロイするのってもうすごい簡単だと思うんですけれども、

04:32.000 --> 04:37.000
ちょっとAWSの場合は一工夫してからデプロイしてみたいな感じになって、

04:37.000 --> 04:40.000
デプロイにサードパーティーのツールを使っているんですけれども、

04:40.000 --> 04:43.000
ちょっとこれとの相性があんまり良くないというか、

04:43.000 --> 04:46.000
ちゃんと追えてないなみたいなのがいっぱいあるんですよね。

04:46.000 --> 04:49.000
新しいバージョンに追いつけてないみたいな感じですかね。

04:49.000 --> 04:53.000
例えばそのノードJSのバージョンはいくらまでですとか、

04:53.000 --> 04:56.000
ネクストのつい最近新しいバージョン出ましたけど、

04:56.000 --> 04:58.000
それには全然まだついていけてないんで、

04:58.000 --> 05:02.000
1個前のメジャーバージョン使ってくださいねみたいな話だったりだとか、

05:02.000 --> 05:06.000
ちょっとそういう点のベンダーロックインみたいな都合が発生したりとかはありますね。

05:06.000 --> 05:12.000
なるほど、そういうボトルネックに対してどういうようなアプローチで解決していきましたか。

05:12.000 --> 05:16.000
そうですね、今のところは騙し騙しというところで、

05:16.000 --> 05:20.000
あんまりすぐには追わないというか、

05:20.000 --> 05:23.000
あんまり新しい機能追わないというところもあるんですけれども、

05:23.000 --> 05:25.000
ちょっとさすがに不便だねというところで、

05:25.000 --> 05:28.000
ちょっと最近はデプロイ先を変えようかみたいな、

05:28.000 --> 05:32.000
ちょっとAWS以外の選択肢もないのかなみたいなことは見通してますね。

05:32.000 --> 05:37.000
なるほど、他のもう合ってるようなところに置き換えちゃうみたいな感じですね。

05:37.000 --> 05:43.000
バージョンとか特にJSマイなんか結構バージョン上がるの早いですからね。

05:43.000 --> 05:45.000
ベンダー先が対応してくれないと。

05:45.000 --> 05:51.000
ノードJSとかだと特にセキュリティパッチが当たったりとかってあると思うんですけれども、

05:51.000 --> 05:55.000
そういう時ってやらなくていいんだっけみたいなところ結構不安になると思うので、

05:55.000 --> 06:00.000
そういう時に上げなきゃという選択肢が取れないのは結構怖いかなっていうのもあって、

06:00.000 --> 06:03.000
ちょっと今のところどっかに何か問題が起きたとかではないんですけれども、

06:03.000 --> 06:07.000
ちょっとゆくゆくは近いうちにやりたいねというふうな話をしてます。

06:07.000 --> 06:09.000
なるほど、ありがとうございます。

06:09.000 --> 06:14.000
逆にサーバーレスでこれでよかったなみたいなところとかってありますか?

06:14.000 --> 06:18.000
やっぱりさっきのロケーションを気にしないっていうのと、

06:18.000 --> 06:24.000
あとサーバーの面倒をそんなに頑張ってみなくても済むよねっていうのがいいメリットかなと思いました。

06:24.000 --> 06:26.000
サーバーの面倒を見ない?

06:26.000 --> 06:31.000
例えばデプロイしているサーバーが落ちちゃってるよみたいなアラートが飛んできたりだとか、

06:31.000 --> 06:36.000
そういったことを、それがこちら側のアプリケーションサーバーの不具合とかであれば、

06:36.000 --> 06:39.000
対応しないといけないと思うんですけれども、そういうのがなくて、

06:39.000 --> 06:44.000
そもそもAWS側の障害だねみたいな話になっちゃったりだとか、

06:44.000 --> 06:47.000
チームが気にかけるコストだったりだとか、

06:47.000 --> 06:51.000
実際手を動かして頑張るメンテナンスのコストとかも抑えられてるっていうのは、

06:51.000 --> 06:54.000
いいことなのかなと思って。

06:55.000 --> 06:59.000
向こう側はサーバー自体のメンテナンスとかをやってくださる?

06:59.000 --> 07:01.000
ある程度は。

07:01.000 --> 07:06.000
そういったことで、そういったところのコストを削減しながらやってきたよみたいな。

07:08.000 --> 07:11.000
サーバーレス、最近ほぼほぼのサービスがサーバーレス。

07:11.000 --> 07:13.000
そうですね、多いですね。

07:13.000 --> 07:15.000
これはなかなかないですもんね。

07:15.000 --> 07:18.000
バーセルとかもデプロイとかもコマンド一個でできちゃう。

07:18.000 --> 07:20.000
めちゃくちゃ楽ですもんね。

07:25.000 --> 07:28.000
海外展開でやっていく中で、

07:28.000 --> 07:34.000
他に難しかったところとか、力を入れたところとかありますか?

07:34.000 --> 07:38.000
そうですね、ちょっとなかなかない話ではあると思うんですけども、

07:38.000 --> 07:41.000
GDPRへの対応っていうところは、

07:41.000 --> 07:45.000
なかなか社内にも事例がなくて、頑張ったところかなと思っております。

07:45.000 --> 07:48.000
GDPRとは何ですかね?

07:48.000 --> 07:52.000
個人情報の取り扱いの情報ですね。

07:52.000 --> 07:56.000
個人情報の取り扱いの条例の話ですね。

07:56.000 --> 08:00.000
特にEU圏なんかでは結構言われる話なんですけども、

08:00.000 --> 08:02.000
勝手に個人情報を使わないでね。

08:02.000 --> 08:04.000
使うんだったら同意してねみたいな。

08:04.000 --> 08:07.000
そういったような感じの条例になるんですけれども、

08:07.000 --> 08:12.000
個人情報にクッキーが含まれるっていう話なんですよね。

08:12.000 --> 08:15.000
結構多分、今これ聞いてるリスナーの方にも

08:15.000 --> 08:18.000
クッキーがどうこうみたいなポップアップ見たことがあるというのは、

08:18.000 --> 08:20.000
大半いらっしゃるかなと思うんですけど、

08:20.000 --> 08:22.000
まさにあれの話で、

08:22.000 --> 08:26.000
ちゃんとそれにも海外展開に耐えるようにっていうところで、

08:26.000 --> 08:29.000
そういったところもしっかりクリアしていかなきゃなっていうのを

08:29.000 --> 08:32.000
頑張って調べてどうにかしたっていうところですかね。

08:32.000 --> 08:34.000
海外展開にするにあたって、

08:34.000 --> 08:39.000
どんなところがGDPRって引っかかってくるんですか?

08:39.000 --> 08:42.000
海外の法律が違うだとかそういったところですか?

08:42.000 --> 08:44.000
そうです。

08:44.000 --> 08:47.000
例えばGDPRに違反しましたってなったときに、

08:47.000 --> 08:49.000
裁く側というのか、

08:49.000 --> 08:52.000
どこの法律に違反したかっていう話になるのかというと、

08:52.000 --> 08:56.000
訴えた側、現時の法律とかになってしまうわけなんですね。

08:56.000 --> 08:57.000
なるほど。

08:57.000 --> 09:01.000
日本の法律じゃなくて、展開してるところの。

09:01.000 --> 09:02.000
そうです。

09:02.000 --> 09:04.000
ひどい話になると青天井に

09:04.000 --> 09:08.000
賠償金の請求が飛んできてしまうみたいな話にもなってしまうので、

09:08.000 --> 09:11.000
そういったところはきちっとしましょうっていうようなところですね。

09:11.000 --> 09:17.000
そういうのは具体的にはどういったふうにうまく回避できるんですかね?

09:17.000 --> 09:21.000
結論はツールを入れてしまって、

09:21.000 --> 09:26.000
それでもって課金の使用の許可を求めるようにしてるって感じですね。

09:26.000 --> 09:31.000
ツールを入れるっていうのはグローバルに対応できるようなツールがあって、

09:31.000 --> 09:35.000
それを入れることによってGDPRが対応できる?

09:35.000 --> 09:36.000
そうです。

09:36.000 --> 09:39.000
ワントラストっていうツールを入れてるんですけど、

09:39.000 --> 09:40.000
ワントラスト。

09:40.000 --> 09:41.000
はい。

09:41.000 --> 09:45.000
それでもってクッキーの使用の許可をエンドユーザーさんに得ているっていうのと、

09:45.000 --> 09:48.000
あとは規約の方でもカバーをしていて、

09:48.000 --> 09:51.000
規約でもってちゃんとご確認くださいっていうのと、

09:51.000 --> 09:53.000
一応ここまでくると、

09:53.000 --> 09:56.000
登録まで行ってしまうともう完了ですよみたいな、

09:56.000 --> 09:58.000
どうしたことになりますっていうふうな、

09:58.000 --> 10:00.000
そんなような仕組みになりますね。

10:00.000 --> 10:06.000
要は使う人の同意があれば良いみたいな認識であってますか?

10:06.000 --> 10:07.000
そうです。

10:08.000 --> 10:15.000
それでもいろんな国の履歴にのっとったやつをすでに提供しているツールがワントラスト?

10:15.000 --> 10:17.000
そうですね。

10:17.000 --> 10:21.000
これ導入にあたって難しかったこととかってありますか?

10:21.000 --> 10:22.000
そうですね。

10:22.000 --> 10:25.000
なかなかまずその社内の事例がなかったので、

10:25.000 --> 10:28.000
ちょっとその辺を調べ持ってだったりだとか、

10:28.000 --> 10:30.000
ちょっとその辺があったなっていうのと、

10:30.000 --> 10:34.000
難しいところでいくとパフォーマンスですかね。

10:34.000 --> 10:35.000
パフォーマンスに影響が。

10:35.000 --> 10:36.000
そうですね。

10:36.000 --> 10:41.000
どうしてもその内部のツールをホットインして使わないといけないっていうところなので、

10:41.000 --> 10:44.000
ちょっとそのデザインの編集が難しかったりとか、

10:44.000 --> 10:49.000
余計にスクリプトを読んでるから重たいじゃんみたいなのが数字で出ちゃったりだとか、

10:49.000 --> 10:52.000
ちょっとその辺が大変かなっていうのが一つありましたかね。

10:52.000 --> 10:53.000
なるほど。

10:53.000 --> 10:57.000
その改善点というか難しかったところに対して、

10:57.000 --> 11:01.000
どういうようなアプローチで対応したとかってありますか?

11:01.000 --> 11:04.000
ここに関しては今一旦諦めてしまっていて、

11:04.000 --> 11:06.000
やれるだけやってみるかっていうところ。

11:06.000 --> 11:11.000
かつその同意をいただいているユーザーに関しては、

11:11.000 --> 11:13.000
SDKなんかは読み込まないようになっているので、

11:13.000 --> 11:17.000
あんまりそこら辺の懸念はないようにっていうふうなことは意識してますね。

11:17.000 --> 11:18.000
なるほど。

11:18.000 --> 11:22.000
確かに社内でもこれを導入したところっていうのはないですもんね。

11:22.000 --> 11:24.000
他の事例が社内でないので、

11:24.000 --> 11:26.000
初めての事例ってことですもんね。

11:26.000 --> 11:31.000
なかなかそうするとやっぱり情報を集めるのも大変そうですね。

11:31.000 --> 11:32.000
そうですね。

11:32.000 --> 11:34.000
初めてって言ったんですけれども、

11:34.000 --> 11:36.000
一応先行事例としては、

11:36.000 --> 11:40.000
弊社サイバーエージェントのコークレートサイトの方で一応導入の事例が

11:40.000 --> 11:41.000
一件だけあって、

11:41.000 --> 11:44.000
そちらの方にだいぶといろいろお伺いして、

11:44.000 --> 11:49.000
それをExpo.jsのアプリケーションに乗っけてどうこうみたいな事例は全然なかったので、

11:49.000 --> 11:54.000
どうするべっていうところをチームのみんなで言いながらやったっていう感じですかね。

11:54.000 --> 11:55.000
なるほど。

11:55.000 --> 11:58.000
結構そういったところがあればある程度は知見が…

11:58.000 --> 12:00.000
そうですね。

12:02.000 --> 12:05.000
Globalに展開していくってなると、

12:05.000 --> 12:11.000
多分みんな結構最初に頭にパッと思い浮かんでくるのは言語なのかなと思うんですけど、

12:11.000 --> 12:15.000
やっぱり言語に対しての対応っていうのはやられたんですか?

12:15.000 --> 12:17.000
もちろんそれはやってますね。

12:17.000 --> 12:19.000
どんなことをやられました?

12:19.000 --> 12:23.000
分かりやすいところだとやっぱり言語の出し分けですよね。

12:23.000 --> 12:27.000
全部手で入れて引くわけにはいかないんですけど、

12:27.000 --> 12:30.000
その分だけHTMLを作るみたいなことにはいかないわけですから、

12:30.000 --> 12:32.000
分かりやすい話ですけれども、

12:32.000 --> 12:35.000
JSONファイルに日A対応しているんですけれども、

12:35.000 --> 12:37.000
日本語と英語のJSONファイルがあって、

12:37.000 --> 12:40.000
キーで引っ張ってきてみたいな、そんな作りになってます。

12:40.000 --> 12:42.000
ロケールみたいなやつですよね?

12:42.000 --> 12:43.000
そうです。

12:43.000 --> 12:48.000
それをアクセスされるロケーションによって表情を変える?

12:48.000 --> 12:49.000
そうですね。

12:49.000 --> 12:51.000
ロケーションとかあとは、

12:51.000 --> 12:53.000
アセプトランゲージヘッドとかを使って、

12:53.000 --> 12:57.000
アクセプトランゲージヘッドの中にどんな情報が入っているんですか?

12:57.000 --> 13:01.000
JAとかALとかENとか、

13:01.000 --> 13:05.000
その辺のどの辺の言語でアクセスしているの?みたいな状態。

13:05.000 --> 13:07.000
あれは多分国から変わるのかな?

13:07.000 --> 13:09.000
ちょっとあまり僕も詳しくないんですけれども、

13:09.000 --> 13:11.000
そこが変わってくるので、

13:11.000 --> 13:15.000
それを見て、日本のユーザーかどこかにアクセスしているのか、

13:15.000 --> 13:17.000
それを見ると、

13:17.000 --> 13:20.000
日本のユーザーかどこかにアクセスしているのか、

13:21.000 --> 13:23.000
それを見て、日本のユーザーかどうか、

13:23.000 --> 13:25.000
みたいな判断を打ち出していますね。

13:25.000 --> 13:26.000
そうなんですね。

13:26.000 --> 13:28.000
他にもありますよね。

13:28.000 --> 13:30.000
アクセスするところによって、

13:30.000 --> 13:32.000
URLのところに、

13:32.000 --> 13:34.000
NEインディッシュだったり、JPだったり、

13:34.000 --> 13:36.000
切り替わる自動で。

13:36.000 --> 13:38.000
というやつは、

13:38.000 --> 13:42.000
アクセプトランゲージヘッダーを見て変えるローチが多いんですかね?

13:42.000 --> 13:44.000
なのかな?と思うんですけれども。

13:44.000 --> 13:47.000
他にもやり方はあると思うんですけれども。

13:47.000 --> 13:48.000
なるほど。

13:48.000 --> 13:50.000
ここを見ているんですね。

13:50.000 --> 13:52.000
僕も一時期海外なので、

13:52.000 --> 13:55.000
日本のコンテンツとかアクセスすると、

13:55.000 --> 13:58.000
日本のコンテンツなのに英語で表記されて、

13:58.000 --> 14:00.000
URLのところが変わっている、

14:00.000 --> 14:03.000
みたいなのがあって不思議だなと思っていたんですけれども。

14:03.000 --> 14:04.000
なるほど。

14:04.000 --> 14:06.000
これやっぱり、

14:06.000 --> 14:09.000
入れることになった時に、

14:09.000 --> 14:12.000
難しかったところはありますか?

14:12.000 --> 14:13.000
そうですね。

14:13.000 --> 14:16.000
これは今のやり方に落ち着いたのが、

14:16.000 --> 14:19.000
最初に採用していた方法ではダメだということが分かって、

14:19.000 --> 14:22.000
そこで最初に調査とか、

14:22.000 --> 14:25.000
検討に難儀したかなというところですね。

14:25.000 --> 14:27.000
最初というのが?

14:27.000 --> 14:29.000
リリース当初ですかね。

14:29.000 --> 14:31.000
アニュアル当初。

14:31.000 --> 14:33.000
どんなことをやろうとしていたんですか?

14:33.000 --> 14:37.000
今はアクセプトランゲージヘッダーを見ているんですけれども、

14:37.000 --> 14:39.000
最初はナビゲーターですね。

14:39.000 --> 14:42.000
ブラウザの設定を見て出し分けしていて、

14:42.000 --> 14:45.000
一見問題ないなというところではあったんですけれども、

14:45.000 --> 14:50.000
よくよく考えるとSEOとかに影響していくみたいな話がありまして、

14:50.000 --> 14:53.000
検索しても狙った言語で出てこないみたいな。

14:53.000 --> 14:56.000
日本語なんだけども英語で出てきちゃうとか、

14:56.000 --> 14:59.000
その逆とかそういうのがありまして、

14:59.000 --> 15:02.000
その辺ではどうしていったらいいんだろうねみたいな話になって、

15:02.000 --> 15:04.000
いろいろ検討していった結果、

15:04.000 --> 15:07.000
今のアクセプトランゲージヘッダーのやり方に落ち着いたみたいなのは、

15:07.000 --> 15:10.000
ちょっといろいろ検討があったという感じですかね。

15:10.000 --> 15:11.000
なるほど。

15:11.000 --> 15:15.000
そこも結構SEOに影響してくるところなんですね。

15:15.000 --> 15:16.000
そうですね。

15:18.000 --> 15:22.000
どういうふうにSEOに影響してくるようなものだったんですか。

15:22.000 --> 15:26.000
先ほどおっしゃった日本語だけど英語で表記したとか、

15:26.000 --> 15:29.000
英語なのに日本語で表記されるとかはまだわかんないですけど、

15:29.000 --> 15:32.000
他に何か影響されるようなところってありました?

15:32.000 --> 15:36.000
でも一番聞かった問題はそれですかね。

15:36.000 --> 15:38.000
特に海外からのお客様が来たときに、

15:38.000 --> 15:43.000
やっぱり日本語でしか出ないねみたいなのは結構影響するんじゃないかとか、

15:43.000 --> 15:45.000
そもそもSEOってなかなか伸ばしにくいところに、

15:45.000 --> 15:49.000
これって本当にいいの?みたいなのは結構社内で問題になりまして。

15:49.000 --> 15:51.000
なるほど、確かに。

15:51.000 --> 15:55.000
良かったところとかといいますか、変えて良かったなといったところでは。

15:55.000 --> 15:56.000
なるほど。

15:56.000 --> 16:00.000
それでいくと、あんまりNext.jsのアプリケーション上で、

16:00.000 --> 16:02.000
その辺のナビゲーター見てどうこうみたいなこと、

16:02.000 --> 16:05.000
あんまり意識を失くなったなというのが、

16:06.000 --> 16:08.000
良かった点かもしれないなと思います。

16:08.000 --> 16:09.000
なるほど。

16:09.000 --> 16:14.000
元ナビゲーターでやってたところを聞き返して、

16:14.000 --> 16:19.000
ナビゲーター、最初話を戻しちゃうんですけど、

16:19.000 --> 16:24.000
ナビゲーターだとどんな風な感じに言語を変更するような、

16:24.000 --> 16:28.000
すごい具体の話になってしまうんですけど、仕組みだったんですか?

16:28.000 --> 16:32.000
ページをロードしたタイミングでナビゲーターを見て、

16:32.000 --> 16:37.000
それによって使う言語ファイルを変えて出すみたいな感じの仕組みですね。

16:37.000 --> 16:40.000
ナビゲーター自体のやつを見て出すわけという。

16:40.000 --> 16:44.000
ナビゲーター.languagesっていうプロパティですかね。

16:44.000 --> 16:46.000
これを見て変えてたんですけど。

16:46.000 --> 16:50.000
そうするとSEOとかで影響が出てしまうということなんですね。

16:50.000 --> 16:51.000
そうですね、はい。

16:51.000 --> 16:54.000
なるほど、あまり海外展開で、

16:54.000 --> 16:58.000
いろんなサービスに関わらないとこういうところだったよなと。

16:58.000 --> 16:59.000
そうなんですよね。

16:59.000 --> 17:01.000
なかなかでも今は本当に、

17:01.000 --> 17:05.000
いろんな海外から日本のコンテンツもそうですけども、

17:05.000 --> 17:10.000
グローバルで出していきたいという会社も多い気がするので、

17:10.000 --> 17:13.000
今回の話、すごい参考になると思うんですよね。

17:13.000 --> 17:14.000
嬉しいです。

17:14.000 --> 17:18.000
多分聞いてるリスナーも海外で働きたいとか、

17:18.000 --> 17:21.000
海外で出したいみたいな人も多いような気がするんですよね。

17:21.000 --> 17:23.000
僕もその一人かもしれないですけど。

17:23.000 --> 17:24.000
なるほど。

17:30.000 --> 17:32.000
海外展開をやっていく中で、

17:32.000 --> 17:34.000
リプレイスしていくじゃないですか。

17:34.000 --> 17:37.000
そういったときにお話しされた以外に、

17:37.000 --> 17:39.000
何かこう大変だったなとか、

17:39.000 --> 17:42.000
ここのポイントすごい良かったよみたいなのあったりますか?

17:42.000 --> 17:44.000
そうですね。

17:44.000 --> 17:48.000
ちょっと敷いてあげるならみたいな話になってしまうんですけれども、

17:48.000 --> 17:51.000
ちょっとABテストの仕組みなんかは、

17:51.000 --> 17:54.000
弊社こだわって今やってるという感じですね。

17:54.000 --> 17:55.000
こだわりがあって、

17:55.000 --> 17:58.000
元々はご存知の方もいらっしゃるかもしれないですけど、

17:58.000 --> 18:00.000
バケティアっていう仕組みを使って

18:00.000 --> 18:02.000
ABテストをやってたんですけれども、

18:02.000 --> 18:05.000
ちょっとこれいくつかの課題点があって、

18:05.000 --> 18:08.000
1つ目がさっきのロケーションの話になっちゃうんですけども、

18:08.000 --> 18:12.000
サーバーがまず日本にしかないっていうのが1点あるのと、

18:12.000 --> 18:14.000
ABテストのバケティアが?

18:14.000 --> 18:15.000
そうです。

18:15.000 --> 18:19.000
ABティストのサーバーが日本にしかないっていうのが1点あるのと、

18:19.000 --> 18:22.000
サーバーが日本にしかないっていうのが1点あるのと、

18:22.000 --> 18:27.000
その2点で結構使えるシーンと使えないシーンがあるねみたいな。

18:27.000 --> 18:30.000
特に海外からアクセスされた時に結構顕著に、

18:30.000 --> 18:34.000
それもレディーションに出ちゃうねっていうのが見えてしまったので、

18:34.000 --> 18:38.000
ちょっとどうしようかみたいな話をしていたんですけれども、

18:38.000 --> 18:41.000
一旦WEBの方ではラムダエッジですね。

18:41.000 --> 18:44.000
ラムダエッジとウェブサイトの2つのサーバーが

18:44.000 --> 18:47.000
日本にしかないっていうのが1点あるのと、

18:47.000 --> 18:51.000
その2点で使えるシーンと使えないシーンがあるねみたいな。

18:51.000 --> 18:54.000
ラムダエッジとGoogleオプティマイズっていうのを使って

18:54.000 --> 18:57.000
ABティストを行うようにしてます。

18:57.000 --> 19:00.000
ラムダとGoogleオプティマイズ。

19:00.000 --> 19:02.000
2つってそういう機能がある?

19:02.000 --> 19:04.000
ABティストする機能があるんですか?

19:04.000 --> 19:06.000
Googleオプティマイズはそうですね。

19:06.000 --> 19:08.000
ABティストのためのツールなんですけれども、

19:08.000 --> 19:12.000
振り分けだったりだとか、データの保存どうすんねんみたいなところを

19:12.000 --> 19:15.000
ラムダエッジで頑張ってやるっていう。

19:15.000 --> 19:17.000
もうアクセスされたらラムダ通して、

19:17.000 --> 19:20.000
オプティマイズで返すみたいな感じなんですね。

19:20.000 --> 19:22.000
データが最初に行って、分析にかかって、

19:22.000 --> 19:25.000
最初にGoogleアナリティクスに出てくるよっていう。

19:25.000 --> 19:26.000
そんな作りですね。

19:26.000 --> 19:29.000
そうすると海外からのアクセスもさばける。

19:29.000 --> 19:31.000
ABティストができる。

19:31.000 --> 19:32.000
なるほど。

19:32.000 --> 19:34.000
すごいですね。よく考えている。

19:34.000 --> 19:37.000
聞いてるとすごい複雑な仕組みなのかなと思うんですけど。

19:37.000 --> 19:41.000
実は絵に描いてみるとめちゃめちゃ単純だったりするんですけれども、

19:41.000 --> 19:44.000
そういう仕組みもあって、

19:44.000 --> 19:46.000
ただ今これ聞いてらっしゃる方、

19:46.000 --> 19:48.000
気がついた方もいらっしゃると思うんですけど、

19:48.000 --> 19:53.000
Googleオプティマイズは2023年7月で参出が終了してしまうので、

19:53.000 --> 19:55.000
そうなんですね。

19:55.000 --> 19:58.000
その辺はどうしようかなみたいなのを今話している最中ですね。

20:00.000 --> 20:01.000
今年ですよね?

20:01.000 --> 20:02.000
今年です。

20:02.000 --> 20:03.000
今年の何月?

20:03.000 --> 20:04.000
7月ですね。

20:04.000 --> 20:05.000
じゃあもうすぐですね。

20:05.000 --> 20:06.000
そうなんですよ。

20:06.000 --> 20:09.000
なるほど。2ヶ月ないような形。

20:09.000 --> 20:13.000
そうですね。3ヶ月くらいでおそらく終了してしまうので、

20:13.000 --> 20:15.000
そこどうしようかっていうのがありますね。

20:15.000 --> 20:20.000
具体的な話でいうと、代わりのものを使うみたいな形なんですか?

20:20.000 --> 20:23.000
ちょっとまだちゃんと調べきれていないんですけれども、

20:23.000 --> 20:28.000
おそらくGoogleアナリティクスに直接送るような形になるんじゃないかなと思います。

20:28.000 --> 20:30.000
ラムダを通さずに?

20:30.000 --> 20:32.000
いや、ラムダを通した後ですね。

20:32.000 --> 20:34.000
そのものを置き換えちゃって、

20:34.000 --> 20:35.000
そうですそうです。

20:35.000 --> 20:39.000
なるほど。そうすると今まで通りABSはできる?

20:39.000 --> 20:40.000
そうですね。

20:40.000 --> 20:47.000
最終的には結果、分析はGoogleアナリティクス上で完結できるっていうような作りになると思うんです。

20:47.000 --> 20:48.000
なるほど。

20:48.000 --> 20:54.000
でもオプティマイズからアナライズに変更しちゃうみたいな感じなんですね。

20:54.000 --> 21:03.000
ABテストって、日本でするABテストと海外でするABテストって違いってありますか?

21:03.000 --> 21:10.000
そうですね。そこまで国の違いみたいなのを踏み込んだABはまだやってないんですけれども、

21:10.000 --> 21:14.000
おそらく違うんじゃないかなっていう、肌感覚でしかないんですが、

21:14.000 --> 21:16.000
そういうのはやってて出てくるかなってことですね。

21:16.000 --> 21:19.000
確かにこれから見えてくるみたいな感じですね。

21:19.000 --> 21:21.000
どうなんでしょうね。

21:21.000 --> 21:29.000
僕の思っているABテスト、言語変えるとサムネイルの言語が違うとアクセスが違う、量が違うみたいなところだと思ってて、

21:29.000 --> 21:37.000
海外とかでも同じようなところが結構されるのかなとか、なかなかこれから面白い検証ができそうですよね。

21:37.000 --> 21:38.000
そうですね。

21:38.000 --> 21:45.000
例えばサムネイルを変えたらどうなるんだろうとか、コンポーネントの出し分けですね。

21:45.000 --> 21:50.000
それによってどれくらい差が出るのかっていうのはこれからまだまだ検証かなっていうところですね。

21:50.000 --> 21:51.000
面白そうですね。

21:52.000 --> 22:02.000
例えばですよ、AとBがあって、日本はAがめちゃくちゃインプス伸びるけど、海外だとBがすごいインプス伸びるみたいなこととかもありそうですもんね。

22:02.000 --> 22:03.000
全然あると思います。

22:03.000 --> 22:07.000
面白そうですね。同じのやってもいろいろと比べられるような。

22:07.000 --> 22:08.000
そうなんですよね。

22:08.000 --> 22:15.000
海外でって言った時もアメリカだとこっちなんだけどイギリスじゃまだ違うんだねみたいなこととかも多分ありえると思っていて、

22:15.000 --> 22:16.000
ありそうですね。

22:16.000 --> 22:24.000
それをどこまで最適化するんだろうっていうのは結構時間のかかる話ではあるんですけれども、チューンナップのしがいがある話かなと思います。

22:24.000 --> 22:31.000
確かに。結構国によって変わってきそうですね。またそれも探すのもデータ量が膨大に増えるわけですもんね。

22:31.000 --> 22:36.000
分析のコストも増えていくので、結構トレードオフになっていくかなと思うんですけどね。

22:36.000 --> 22:47.000
でもあれですよね。分析した結果この国だとこういう価値パターンが見えてくるとかっていうのはもうすごい将来的には大きな試算になりそうな感じがしますね。

22:47.000 --> 22:52.000
確かにアメリカとイギリスよくアメリカはなんか冗談の言い方がもう違うじゃないですか。

22:52.000 --> 22:57.000
イギリスだったら皮肉的なのがすごい伸びるとかそういったところを早く見てみたいですね。

22:57.000 --> 22:58.000
そうですね。

22:59.000 --> 23:06.000
もしあればUBテストを入れるときに難しかったところと良かったところみたいなところってありますか?

23:06.000 --> 23:17.000
そうですね。最初ラムダエッジを今使ってラムダエッジのクッキーとかヘッダーをうまく使ってその結果を保存したり見たりとかしてるんですけれども

23:17.000 --> 23:23.000
やっぱりちょっとその辺の最初どうしようかっていう最初の設計のところはちょっと悩みましたね。

23:23.000 --> 23:29.000
結局サーバーみたいなのを建てた方がいいんじゃないかみたいな話もちょっとちらっとしたんですけれども

23:29.000 --> 23:40.000
そうすると結構インフラの変更も大きいし元々のロケーションのボトルネックを抑えてみたいな旨味を殺していってしまうのでどうしようかっていうのをいろいろ考えた末に

23:40.000 --> 23:49.000
ラムダエッジでヘッダーをうまく使って結果はクッキーの利用を承諾していただいたお客様にしかまだ提供できないんですけれども

23:49.000 --> 23:58.000
クッキーに結果を入れてそれでもっとレビューすればいいんじゃないかっていうのをチームで議論して決めていってみたいなのはちょっと最初時間がかかったなと思うんですね。

23:58.000 --> 24:07.000
確かに仕組みだけではなくてさっき出たGDPRとかのそういったもの他の要素の絡み合いみたいなのもあるんですね。

24:07.000 --> 24:15.000
そうですね。技術のことだけ知っててもやっぱりダメなんだなっていうのは結構このサービスをやり始めて痛感しましたね。

24:15.000 --> 24:19.000
確かに国によっての法律が違ったりだとかもあるわけですよね。

24:19.000 --> 24:28.000
特色をちゃんと抑えてそれ以外のこともちゃんと踏まえて設計とか実装できますかっていうのは結構学びだなっていうふうに思いました。

24:28.000 --> 24:39.000
確かに日本だけで展開するようなサービスの設計ではなくても本当に全く違うような設計を考えなきゃいけないというところでなかなか聞いているだけでも複雑そうですね。

24:39.000 --> 24:44.000
そうですね。なかなか積み重ねやなっていうところで言ってます。

24:44.000 --> 24:51.000
なるほど。でも聞いてる感じそれができたからこそ本当に今も高い水準でサービスを提供できているという感じがしますね。

24:51.000 --> 24:52.000
そうですね。

25:01.000 --> 25:09.000
動画配信のサービスということでさっきは表示のその言語変換だったんですけど動画でもやっぱり言語とかって変わってくるんですか?

25:09.000 --> 25:11.000
変わるものがあります。

25:11.000 --> 25:13.000
どういう感じに変わってくるんですか?

25:13.000 --> 25:18.000
映像そのものは変わらないんですけれども音声ですね。

25:18.000 --> 25:20.000
吹き替えとかですか?

25:20.000 --> 25:30.000
実況が試合の実況の音声が入ってくるんですけれどそれの1Aが切り替えられる配信を提供できるようにしています。

25:30.000 --> 25:32.000
どういう仕組みなんですかね?

25:32.000 --> 25:42.000
AWSのエレメンタルリンクっていうボーダーを使ってそれでもってその音声の切り替えっていうのを実現できるようにしてますね。

25:42.000 --> 25:53.000
それぞれの国の音声がもともとデータとしてあってアクセスしてくる人のLanguageのプロパティによって配信を変えるみたいな感じの仕組みですか?

25:53.000 --> 25:55.000
考え的にはそれですね。

25:55.000 --> 26:05.000
実際には日本語と英語だけで他の言語でってなると当然その言語で実況してもらっていろいろ出てくるのでちょっと日英って感じになってしまうんですけれども

26:05.000 --> 26:15.000
例えば英語からアクセスしていただいたお客様には元から英語の音声用意できるものは英語の音声で提供して配信を見ていただけるようにとか

26:15.000 --> 26:22.000
そうでなくても日英で選んでいただけるようになっているので提供ができているものはそういう風にしてご覧いただけるように

26:22.000 --> 26:28.000
っていうのはサービス全体Webだけではないんですけれども工夫して展開をしているところですね。

26:28.000 --> 26:33.000
面白いですね。もともと提供できるもの確かにありますもんね。

26:33.000 --> 26:35.000
ネットフリックスとかでも言語を選ぶとか。

26:35.000 --> 26:40.000
あれがデフォルトでその人にあったものを最初提供して後から変えられるみたいな。

26:40.000 --> 26:45.000
面白いですね。結構導入するにあたって簡単にできたんですかね。

26:45.000 --> 26:53.000
クライアントの実装そんなに難しくないところでプレイヤーがサポートしていれば全然いけますよというところなんですけれども

26:53.000 --> 26:57.000
さっき申し上げたエレメンタルリンクの導入であったりだとか

26:57.000 --> 27:03.000
その辺のサーバーとか配信の方で色々アクセントがありまして

27:03.000 --> 27:09.000
探していただくと記事とか解説の動画みたいなのが弊社から出ていると思いますので

27:09.000 --> 27:14.000
よろしければそちらの方も探していただけるとより詳しく聞いていただけるかなと思います。

27:14.000 --> 27:16.000
ちなみに何て検索したら出てきます?

27:16.000 --> 27:22.000
試してないんですけれども多分サイバーファイト、プロレス、動画技術とか

27:22.000 --> 27:26.000
そんな感じの検索の仕方をすればおそらく出てくるかなと思います。

27:26.000 --> 27:29.000
なるほど。家帰って聞いてみます。見てみます。

27:29.000 --> 27:31.000
聞いてる人もぜひ調べてもらって

27:31.000 --> 27:34.000
そうですね。ちょっとウェブからは外れてしまうんですけれども

27:34.000 --> 27:37.000
よろしければぜひお願いいたします。

27:37.000 --> 27:39.000
ありがとうございます。

27:39.000 --> 27:42.000
でも本日もね色々なお話聞けました。

27:42.000 --> 27:44.000
本当に海外についてね

27:44.000 --> 27:49.000
よく最近の新入社員とか聞いてると海外展開者ですみたいな人も多いかなと思ってて

27:49.000 --> 27:53.000
そういった人にはすごくいい話になったんじゃないかなと思ってるんですけど

27:53.000 --> 27:54.000
よかったです。

27:54.000 --> 27:58.000
今回ポッドキャストに初めて出ていただいたんですけど

27:58.000 --> 28:02.000
改めて振り返ってみての感想とかってありますか?

28:02.000 --> 28:06.000
そうですね。もう本当に自分が初めてなので

28:06.000 --> 28:10.000
わりかし緊張しながら喋ってるというところがあるんですけれども

28:10.000 --> 28:15.000
改めて海外で日本初でサービス出していくのって

28:15.000 --> 28:19.000
今日お話ししたこと以外にも色々大衆出てくると思うので

28:19.000 --> 28:22.000
ちょっとそういったところの参考にでもらえればいいなというので

28:22.000 --> 28:26.000
ちょっとでも伝われという気持ちで今日はお話をさせていただきました。

28:26.000 --> 28:28.000
ありがとうございます。

28:28.000 --> 28:31.000
今日話してて伝わったと思います。

28:31.000 --> 28:32.000
だったら嬉しいな。

28:32.000 --> 28:34.000
僕には伝わりました。

28:34.000 --> 28:37.000
本当に話を聞いてさっきも言った通りね

28:37.000 --> 28:42.000
海外で日本でサービス展開するのとはわけが違う

28:42.000 --> 28:48.000
いろんな法律やら言語やらそういったところの観点とかも考えながらやらなきゃいけない

28:48.000 --> 28:52.000
そういったところはいろいろとレベルが高い

28:52.000 --> 28:56.000
しかしチャレンジングであるみたいなところがあると思うんですよね。

28:56.000 --> 28:59.000
ぜひ聞いている人も考えている人は

28:59.000 --> 29:03.000
今回のポッドキャストを参考にしていただけたらいいなと思っています。

29:03.000 --> 29:05.000
ぜひ宜しくお願いします。

29:05.000 --> 29:10.000
はい、では本日はお忙しいところお越しいただきありがとうございました。

29:10.000 --> 29:11.000
ありがとうございました。

29:11.000 --> 29:14.000
では聞いている皆さんもまた次回お会いいたしましょう。

29:14.000 --> 29:16.000
では皆さんバイバイ。

29:18.000 --> 29:19.000
バイバイ。

